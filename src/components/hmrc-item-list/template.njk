{%- macro _actionLink(action) %}
  <a class="govuk-link {%- if action.classes %} {{ action.classes }}{% endif %}" href="{{ action.href }}">
    {{ action.html | safe if action.html else action.text }}
    {%- if action.visuallyHiddenText -%}
      <span class="govuk-visually-hidden"> {{ action.visuallyHiddenText }}</span>
    {% endif -%}
  </a>
{% endmacro -%}

<ul class="hmrc-item-list hmrc-item-list--{{ params.itemSize | default('short') }} {%- if params.classes %} {{ params.classes }}{% endif %}" {% for attribute, value in params.attributes %} {{attribute}}="{{value}}"{% endfor %}>
  {% for row in params.rows %}
  <div>
  <li class="hmrc-item-list__contents">
    <div class="hmrc-item-list__identifier hmrc-item-list__identifier--light {%- if row.item.classes %} {{ row.item.classes }}{% endif %}">
       {{ row.item.html | safe if row.item.html else row.item.text }}
    </div>
          {% if row.actions.items %}
        <div class="hmrc-item-list__actions {%- if row.actions.classes %} {{ row.actions.classes }}{% endif %}">
          {% if row.actions.items.length == 1 %}
            {{ _actionLink(row.actions.items[0]) | indent(12) | trim }}
          {% else %}
            <ul class="hmrc-item-list__actions-list">
              {% for action in row.actions.items %}
                <li class="hmrc-item-list__actions-list-item">
                  {{ _actionLink(action) | indent(18) | trim }}
                </li>
              {% endfor %}
            </ul>
          {% endif %}
        </div>
      {% endif %}
  </li>
  </div>
  {% else %}
    {# empty list stuff goes here #}
  {% endfor %}
  {# end loop #}
</ul>
